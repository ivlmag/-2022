# C. Отчет по товарам

:clock10: **Ограничение времени**

>1 секунда

 
:computer: **Ограничение памяти**

>512Mb

____

Недавно в Выньдекс.рынке среди покупателей провели опрос — какие товары они считают наиболее «интересными» для себя. На выбор предлагалось 5 различных вариантов фильтра:
- «Наименование товара содержит подстроку в любом регистре» (внутренний ключ ‘NAME_CONTAINS’);
- «Цена больше или равна чем» (внутренний ключ ‘PRICE_GREATER_THAN’);
- «Цена меньше или равна чем» (внутренний ключ ‘PRICE_LESS_THAN’);
- «Товар поступил в продажу не позднее» (внутренний ключ ‘DATE_BEFORE’);
- «Товар поступил в продажу не ранее» (внутренний ключ ‘DATE_AFTER’);

По итогам опроса определились самые актуальные значения каждого из фильтров (по одному значению на фильтр).

Вам, как аналитику Выньдекс.Рынка, поставили задачу из имеющегося списка товаров выбрать все товары, удовлетворяющие актуальным значениям всех указанных фильтров.




:heavy_exclamation_mark: <b>Формат ввода</b>

Общее описание формата входных данных:

Первая строка входных данных содержит список товаров в формате JSON.

Следующие 5 строк имеют вид qi vi — фильтр и соответствующее ему актуальное значение.

Подробное описание формата списка товаров

Гарантии по формату JSON:
- нет запятых после последнего элемента массива;
- все имена полей и строки обернуты в двойные кавычки.

Обозначим количество товаров в списке через N. Гарантируется, что 0≤N≤1000.

Каждый товар в списке содержит следующую информацию (порядок полей не является фиксированным):
- целое число id (0≤id≤2<sup>31</sup>−1) — уникальный идентификатор. Гарантируется, что идентификаторы всех товаров попарно различны;
- строка name (1≤|name|≤100) — наименование. Гарантируется, что наименование содержит только строчные и заглавные латинские буквы, а так же пробел;
- целое число price (0≤price≤2<sup>31</sup>−1) — цена;
- строка date в формате «dd.MM.yyyy» (01.01.1970≤date≤31.12.2070) — дата поступления в продажу.

Подробное описание формата фильтров

Гарантируется, что:
- все qi различны между собой;
- qi является строкой из множества (NAME_CONTAINS, PRICE_GREATER_THAN, PRICE_LESS_THAN, DATE_BEFORE, DATE_AFTER);
- в фильтре ‘NAME_CONTAINS’ vi представляет из себя строку (1≤|vi|≤100), содержащую только строчные и заглавные латинские буквы;
- в фильтрах ‘PRICE_GREATER_THAN’ и ‘PRICE_LESS_THAN’ vi представляет из себя целое число (0≤vi≤231−1);
- в фильтрах ‘DATE_BEFORE’ и ‘DATE_AFTER’ vi представляет из себя строку в формате «dd.MM.yyyy» (01.01.1970≤vi≤31.12.2070).


:bangbang: <b>Формат вывода</b>

Выведите в формате JSON список товаров, удовлетворяющих всем указанным во входных данных фильтрам. Каждый товар должен быть выведен ровно один раз в отсортированном по возрастанию id порядке.

Выводить JSON допустимо как c дополнительными отступами и переводами строк, так и в одну строку.

Имена полей необходимо выводить в двойных кавычках.

Допустимо выводить запятую после последнего поля объекта или последнего элемента массива.

Каждый товар должен содержать информацию, аналогичную информации из входных данных:
- целое число id — уникальный идентификатор;
- строка name — наименование;
- целое число price — цена;
- строка date в формате «dd.MM.yyyy» — дата поступления в продажу.



### Пример 1

| ВВОД | ВЫВОД |
|----:|:----:|
| 2<br/>ceo,1<br/>co_founder,1<br/>3<br/>arcady_volozh,ceo,6,100<br/>elon_musk,ceo,5,0<br/>ilya_segalovich,co_founder,6,10 | arcady_volozh<br/>ilya_segalovich |


### Пример 2

| ВВОД | ВЫВОД |
|----:|:----:|
| 1<br/>co_founder,1<br/>2<br/>elon_musk,co_founder,6,200<br/>ilya_segalovich,co_founder,6,100 | ilya_segalovich |


### Пример 3

| ВВОД | ВЫВОД |
|----:|:----:|
| 2<br/>developer,2<br/>hacker,3<br/>5<br/>anonymous,hacker,6,0<br/>bjarne_stroustrup,developer,6,1<br/>julian_assange,hacker,5,100500<br/>bill_gates,developer,3,1<br/>guccifer,hacker,2,0 | anonymous<br/>bill_gates<br/>bjarne_stroustrup<br/>guccifer<br/>julian_assange |


### Пример 4

| ВВОД | ВЫВОД |
|----:|:----:|
| 2<br/>plant,2<br/>gardener,1<br/>5<br/>demeter,gardener,4,12<br/>acacia,plant,0,5<br/>cactus,plant,0,1<br/>ficus,plant,0,4<br/>palm,plant,0,3 | cactus<br/>demeter<br/>palm |

### Примечания
##### Пояснение к первому тестовому примеру.

В первом тестовом примере на вакансию «ceo» претендуют два кандидата — у ‘arcady_volozh’ решено 6 задач и 100 штрафа, у ‘elon_musk’ — решено 5 задач и 0 штрафа. В первую очередь сравнение идет по задачам: 6>5, поэтому в следующий этап проходит именно ‘arcady_volozh’.
<br/>

##### Пояснение ко второму тестовому примеру.

Во втором тестовом примере у обоих претендентов одинаковое количество решенных задач, но у ‘ilya_segalovich’ штраф 100, что меньше штрафа 200 у ‘elon_musk’. Поэтому в следующий этап проходит ‘ilya_segalovich’.
<br/>

##### Пояснение к третьему тестовому примеру.

В третьем тестовом примере важно отметить, что в ответе прошедшие кандидаты идут в объединенном списке отсортированные в лексикографическом порядке независимо от своего приоритета при отборе и выбранной ими вакансии.
<br/>

##### Пояснение к четвертому тестовому примеру.

В четвертом тестовом примере развернулась борьба за должность офисного растения. Хотя все кандидаты решили 0 задач на соревновании, ‘cactus’ и ‘palm’ набрали меньше всего штрафа, поэтому именно их приглашают в следующий этап отбора.
