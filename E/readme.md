# E. В одном шаге от идеала

:clock10: **Ограничение времени**

>10 секунд (Python 3.7 (PyPy 7.3.3))
>
>15 секунд (Python 3.10.1)

 
:computer: **Ограничение памяти**

>64Mb

____

Василиса недавно узнала про «правильные скобочные последовательности» — последовательности из «(» и «)» такие, что существует хотя бы одно разбиение всех скобок последовательности на пары «(» и «)», для которых верно:
- в любой паре порядковый номер «(» в последовательности меньше, чем у соответствующей ей «)».
- каждая скобка относится ровно к одной паре из разбиения.

Например, последовательность «(()())()» правильная, так как существует разбиение (1,6), (2,3), (4,5), (7,8) (скобки нумеруются с 1 слева направо).

Примеры неправильных скобочных последовательностей:
- «((()» неправильная, так как в единственно возможном разбиении (1,4), (2,4), (3,4) скобка 4 используется во всех трёх парах.
- «)(» неправильная, так как в единственно возможном разбиении (2,1) позиция скобки «(» больше, чем позиция «)».
- «((» неправильная, так как невозможно построить ни одной пары без скобок «)».
- 
Василисе очень понравилась данная тематика, поэтому ей захотелось привнести туда чего-то нового и необычного. Поэтому Василиса придумала «почти правильную скобочную последовательность» — скобочную последовательность, из которой можно получить правильную скобочную последовательность удалением ровно одной скобки.

К примеру, последовательность «(()» является почти правильной, так как удаление любой скобки «(» приведет к правильной последовательности «()».

Последовательность «)» тоже является почти правильной, так как удаление единственной скобки приведет к пустой последовательности скобок, которая является правильной по определению.

У Василисы есть файлы с её решениями домашних заданий по математике. Она решила для каждого задания выяснить, является ли последовательность скобок в этих выражениях почти правильной — и, если это так, то найти наименьшую позицию скобки, после удаления которой последовательность скобок станет правильной.

Обратите внимание, что Василису не интересует корректность получающегося после удаления скобки выражения — она всецело сосредоточена только на корректности скобочной последовательности.

Так как у Василисы очень большие решения, то ей одной не справиться — помогите ей в этом нелегком деле.



:heavy_exclamation_mark: <b>Формат ввода</b>

В единственной строке файла содержится строка S (1≤∣∣S∣∣≤5⋅10<sup>7</sup>) — решение одного из заданий по математике. Строка гарантированно завершается символом перевода строки.

Гарантируется, что строка S содержит символы только из указанных ниже:
- строчные английские буквы a - z;
- знаки математических операций: +, −, ∗, ∕, =;
- скобки ( и );
- пробел.


:bangbang: <b>Формат вывода</b>

Выведите список идентификаторов всех кандидатов, прошедших в следующий этап отбора на интересующие их вакансии в лексикографическом (алфавитном) порядке.
Кандидат считается прошедшим по вакансии i, если существует строго менее mi кандидатов на i-ю вакансию с большим, чем у данного кандидата, приоритетом (см. условие про сравнение кандидатов).


### Пример 1

| ВВОД | ВЫВОД |
|----:|:----:|
| 2<br/>ceo,1<br/>co_founder,1<br/>3<br/>arcady_volozh,ceo,6,100<br/>elon_musk,ceo,5,0<br/>ilya_segalovich,co_founder,6,10 | arcady_volozh<br/>ilya_segalovich |


### Пример 2

| ВВОД | ВЫВОД |
|----:|:----:|
| 1<br/>co_founder,1<br/>2<br/>elon_musk,co_founder,6,200<br/>ilya_segalovich,co_founder,6,100 | ilya_segalovich |


### Пример 3

| ВВОД | ВЫВОД |
|----:|:----:|
| 2<br/>developer,2<br/>hacker,3<br/>5<br/>anonymous,hacker,6,0<br/>bjarne_stroustrup,developer,6,1<br/>julian_assange,hacker,5,100500<br/>bill_gates,developer,3,1<br/>guccifer,hacker,2,0 | anonymous<br/>bill_gates<br/>bjarne_stroustrup<br/>guccifer<br/>julian_assange |


### Пример 4

| ВВОД | ВЫВОД |
|----:|:----:|
| 2<br/>plant,2<br/>gardener,1<br/>5<br/>demeter,gardener,4,12<br/>acacia,plant,0,5<br/>cactus,plant,0,1<br/>ficus,plant,0,4<br/>palm,plant,0,3 | cactus<br/>demeter<br/>palm |

### Примечания
##### Пояснение к первому тестовому примеру.

В первом тестовом примере на вакансию «ceo» претендуют два кандидата — у ‘arcady_volozh’ решено 6 задач и 100 штрафа, у ‘elon_musk’ — решено 5 задач и 0 штрафа. В первую очередь сравнение идет по задачам: 6>5, поэтому в следующий этап проходит именно ‘arcady_volozh’.
<br/>

##### Пояснение ко второму тестовому примеру.

Во втором тестовом примере у обоих претендентов одинаковое количество решенных задач, но у ‘ilya_segalovich’ штраф 100, что меньше штрафа 200 у ‘elon_musk’. Поэтому в следующий этап проходит ‘ilya_segalovich’.
<br/>

##### Пояснение к третьему тестовому примеру.

В третьем тестовом примере важно отметить, что в ответе прошедшие кандидаты идут в объединенном списке отсортированные в лексикографическом порядке независимо от своего приоритета при отборе и выбранной ими вакансии.
<br/>

##### Пояснение к четвертому тестовому примеру.

В четвертом тестовом примере развернулась борьба за должность офисного растения. Хотя все кандидаты решили 0 задач на соревновании, ‘cactus’ и ‘palm’ набрали меньше всего штрафа, поэтому именно их приглашают в следующий этап отбора.
